# 400精進-1
この二問について解説します
- [Maximum Average Sets](https://beta.atcoder.jp/contests/abc057/tasks/abc057_d)
- [Mixing Experiment](https://beta.atcoder.jp/contests/abc054/tasks/abc054_d)

# Maximum Average Sets
- まず、制約が小さい部分を確認します。Nの制約が小さいので、Nで3重ループも可能だなと考えます。
- 次に本文を読むと、僕はナップサックDPだと思いました。しかし、今回は貪欲に上からa個取ったものが題意を満たします。
> 正当性の証明
- 与えられた品物の価値を降順ソートして $v_0 \geq v_1 \geq v_2 ... \geq v_n$ とする。選んだ品物の数を固定する。$K$個選んだ時の平均を最大にするのは $\{ v_0, v_1, v_2, ... , v_{K-1}\}$ である。
- $k$個選んだ時の価値の平均と$k+1$個選んだ時の価値の平均を比較する。
$$\frac{1}{k}\sum_{i=0}^{k-1} v_i - \frac{1}{k+1}\sum_{i=0}^{k} v_i = \frac{k+1}{k(k+1)}\sum_{i=0}^{k-1} v_i - \frac{k}{k(k+1)}\sum_{i=0}^{k} v_i$$
$$=\frac{k}{k(k+1)}\sum_{i=0}^{k-1} v_i + \frac{1}{k(k+1)}\sum_{i=0}^{k-1} v_i - \frac{k}{k(k+1)}\sum_{i=0}^{k-1} v_i - \frac{k v_k}{k(k+1)}$$
$$=\frac{1}{k(k+1)}\sum_{i=0}^{k-1}(v_i - v_k)$$
- ここで$v_i(0 \leq i \leq k-1)$より、$v_i-v_k \geq 0$となって、かっこの中身は正になるので、$k$個選んだ時の価値の平均の最大値は、$k+1$個選んだ時の価値の平均の最大値より大きい。
- 品物は$A$個以上選ぶ必要があるので、$A$個選べばよい。(貪欲に$A$個選べばよいことの正当性)

> どうやってナップサックという思い込みから逃れるか、どうやって解法にたどり着くのか
- ナップサック問題を正しく理解することが大事
- ナップサック問題をやってみよう。
:::tip 着眼点
個数を固定して考える
:::

:::warning WIP
組み合わせパートをここに書く
:::


# Mixing Experiment
- まず、制約に注目するとどの制約も小さいので3重ループのようなことを考えても大丈夫そうだなと分かります。
- 状態としては、"タイプAの物質のグラム数"、"タイプBの物質のグラム数"、"薬品をいくつ使っているか"、そして"その状態における価格はいくらか"の4つの要素があります。
- 今回は、価格を最小にしたいので、価格を更新することを考えて以下のようなDPを考えます。
- $dp[i][ca][cb]$: $dp$の値は$i$個の薬品を使用したときの価格の最小値(ただし、タイプAの薬品は$ca$グラム、タイプBの薬品は$cb$グラム)
- $dp$の更新の仕方は
- minをとるのですべてINFで初期化
- 初期値: $dp[0][0][0] = 0$

:::warning WIP
ここに更新パートとans集計パートを書く
:::